{"version":3,"file":"main.js","mappings":"mBAGe,MAAMA,EACnBC,WAAAA,CAAYC,GACVC,KAAKD,SAAWA,EAEhBC,KAAKC,SAAWD,KAAKC,SAASC,KAAKF,MACnCA,KAAKG,QAAUH,KAAKG,QAAQD,KAAKF,KACnC,CAEA,gBAAWI,GACT,MAAO,8fAST,CAEA,iBAAWC,GACT,MAAO,iNAMT,CAEA,yBAAWC,GACT,MAAO,mBACT,CAEA,wBAAWC,GACT,MAAO,kBACT,CAEA,mBAAWC,GACT,MAAO,iBACT,CAEA,qBAAWC,GACT,MAAO,gLAMT,CAEA,wBAAWC,GACT,MAAO,4GAKT,CAEAC,UAAAA,CAAWC,GACLA,GACcZ,KAAKD,SAASc,cAAc,UAADC,OAAWF,IAC9CG,UAAUC,IAAI,eAE1B,CAEAC,UAAAA,GACMjB,KAAKD,SAASc,cAAc,kBAC9Bb,KAAKD,SAASc,cAAc,iBAAiBE,UAAUG,OAAO,eAElE,CAEAC,SAAAA,GACEnB,KAAKD,SAASqB,mBAAmB,YAAavB,EAAeO,OAC7DJ,KAAKD,SAASqB,mBAAmB,YAAavB,EAAeQ,QAE7DL,KAAKqB,QAAUrB,KAAKD,SAASc,cAAchB,EAAeW,UAC1DR,KAAKsB,MAAQtB,KAAKqB,QAAQR,cAAchB,EAAeU,eACvDP,KAAKuB,OAASvB,KAAKqB,QAAQR,cAAchB,EAAeS,gBAExDN,KAAKqB,QAAQG,iBAAiB,SAAUxB,KAAKC,UAC7CD,KAAKqB,QAAQG,iBAAiB,QAASxB,KAAKG,QAC9C,CAEAF,QAAAA,CAASwB,GACPA,EAAEC,iBACF,MAAM,MAAEC,GAAU3B,KAAKsB,MACvB,IAAIM,ECzFO,IAAkCC,ED2F3CD,GC3F2CC,ED0FhBF,GCzFJG,MAAM,IAAIC,KAAI,CAACC,EAAIC,KAC5C,MAAMC,EAAMC,OAAOH,GACnB,GAAIC,EAAI,GAAMJ,EAAQO,OAAS,EAAG,CAChC,MAAMC,EAAgB,EAANH,EAChB,OAAOG,EAAU,EAAIA,EAAU,EAAIA,CACrC,CACA,OAAOH,CAAG,IAGcI,QAAO,CAACC,EAAKC,IAAQD,EAAMC,GAAK,GAE1C,IAAO,GD8EkBb,EAC5B9B,EAAeY,WAEfZ,EAAea,cAErBV,KAAKD,SAASc,cAAc,WAG/Bb,KAAKD,SAASc,cAAc,WAAW4B,UAAYb,EAFnD5B,KAAKD,SAASqB,mBAAmB,YAAaQ,EAIlD,CAEAzB,OAAAA,GACE,MAAM,MAAEwB,GAAU3B,KAAKsB,MACvBtB,KAAKiB,aACLjB,KAAKW,WExGgB,CACrB,EAAG,MACH,EAAG,oBACH,EAAG,OACH,EAAG,aACH,EAAG,WFmGiCgB,EEhGTe,OAAO,KACG,KFgGvC,EGvGF,MAAMC,EAAYC,SAAS/B,cAAc,cAC5B,IAAIhB,EAAe8C,GAC3BxB,W","sources":["webpack://tstng/./src/components/CreditCardForm.js","webpack://tstng/./src/js/validateCreditCardNumber.js","webpack://tstng/./src/js/definePaymentSystem.js","webpack://tstng/./src/index.js"],"sourcesContent":["import validateCreditCardNumber from '../js/validateCreditCardNumber';\nimport definePaymentSystem from '../js/definePaymentSystem';\n\nexport default class CreditCardForm {\n  constructor(parentE1) {\n    this.parentE1 = parentE1;\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onInput = this.onInput.bind(this);\n  }\n\n  static get cards() {\n    return `\n    <ul class=\"cards__container\">\n      <li class=\"card__item card__mastercard\"><span class=\"card__text\">mastercard</span></li>\n      <li class=\"card__item card__mir\"><span class=\"card__text\">mir</span></li>\n      <li class=\"card__item card__visa\"><span class=\"card__text\">visa</span></li>\n      <li class=\"card__item card__american__express\"><span class=\"card__text\">american express</span></li>\n      <li class=\"card__item card__maestro\"><span class=\"card__text\">maestro</span></li>\n    </ul>\n    `;\n  }\n\n  static get markup() {\n    return `\n    <form class=\"form__validate\">\n      <input class=\"input__validate\" placeholder=\"Credit card number\">\n      <button class=\"submit__validate\" type=\"submit\">Click to Validate</button>\n    </form>\n    `;\n  }\n\n  static get submitSelector() {\n    return '.submit__validate';\n  }\n\n  static get inputSelector() {\n    return '.input__validate';\n  }\n\n  static get selector() {\n    return '.form__validate';\n  }\n\n  static get valideText() {\n    return `\n    <div class=\"valide\">\n    <span class=\"test_validate\"> Проверка пройдена</span>\n    <input type=\"checkbox\" class=\"checkbox__valide\" checked disabled>\n    </div>\n    `;\n  }\n\n  static get notValideText() {\n    return `\n    <div class=\"valide\">\n    <span class=\"test_validate\"> Проверка не пройдена</span>\n    </div>\n    `;\n  }\n\n  selectCart(cart) {\n    if (cart) {\n      const element = this.parentE1.querySelector(`.card__${cart}`);\n      element.classList.add('card__active');\n    }\n  }\n\n  clearClass() {\n    if (this.parentE1.querySelector('.card__active')) {\n      this.parentE1.querySelector('.card__active').classList.remove('card__active');\n    }\n  }\n\n  bindToDom() {\n    this.parentE1.insertAdjacentHTML('beforeend', CreditCardForm.cards);\n    this.parentE1.insertAdjacentHTML('beforeend', CreditCardForm.markup);\n\n    this.element = this.parentE1.querySelector(CreditCardForm.selector);\n    this.input = this.element.querySelector(CreditCardForm.inputSelector);\n    this.submit = this.element.querySelector(CreditCardForm.submitSelector);\n\n    this.element.addEventListener('submit', this.onSubmit);\n    this.element.addEventListener('input', this.onInput);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const { value } = this.input;\n    let result;\n    if (validateCreditCardNumber(value) && value) {\n      result = CreditCardForm.valideText;\n    } else {\n      result = CreditCardForm.notValideText;\n    }\n    if (!this.parentE1.querySelector('.valide')) {\n      this.parentE1.insertAdjacentHTML('beforeend', result);\n    } else {\n      this.parentE1.querySelector('.valide').innerHTML = result;\n    }\n  }\n\n  onInput() {\n    const { value } = this.input;\n    this.clearClass();\n    this.selectCart(definePaymentSystem(value));\n  }\n}\n","export default function validateCreditCardNumber(numCard) {\n  const numCardArr = numCard.split('').map((el, i) => {\n    const num = Number(el);\n    if (i % 2 === numCard.length % 2) {\n      const doubled = num * 2;\n      return doubled > 9 ? doubled - 9 : doubled;\n    }\n    return num;\n  });\n\n  const result = numCardArr.reduce((acc, sum) => acc + sum, 0);\n\n  return result % 10 === 0;\n}\n","export default function definePaymentSystem(numCard) {\n  const paymentSystems = {\n    2: 'mir',\n    3: 'american__express',\n    4: 'visa',\n    5: 'mastercard',\n    6: 'maestro',\n  };\n\n  const firstElement = numCard.charAt(0);\n  return paymentSystems[firstElement] || null;\n}\n","import './css/style.css';\nimport CreditCardForm from './components/CreditCardForm';\n\nconst container = document.querySelector('.container');\nconst form = new CreditCardForm(container);\nform.bindToDom();\n"],"names":["CreditCardForm","constructor","parentE1","this","onSubmit","bind","onInput","cards","markup","submitSelector","inputSelector","selector","valideText","notValideText","selectCart","cart","querySelector","concat","classList","add","clearClass","remove","bindToDom","insertAdjacentHTML","element","input","submit","addEventListener","e","preventDefault","value","result","numCard","split","map","el","i","num","Number","length","doubled","reduce","acc","sum","innerHTML","charAt","container","document"],"sourceRoot":""}